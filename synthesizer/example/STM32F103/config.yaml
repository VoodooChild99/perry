svd: STM32F103xx.svd

prefix: STM32F1

perry-path: ../../../build/bin/perry

perry-memory-limit: 49152

additional-peripheral:
  -
    base: 0xE000ED00
    size: 0x90

bitcode:
  - ../../../../HAL-Collection/STM/STM32F103/build/libhal-STM32F103.bca

loop-file: ./loops.yaml

peripheral_workload:
  -
    target: DMA1
    kind: DMA
    use-perry: true
    target-bitcode: ../../../../HAL-Collection/STM/STM32F103/build/stm32f1xx_hal_dma.bc
    target-struct: DMA_TypeDef
    constraint_file: perry-stm32f1-dma.json
  -
    target: PWR
    use-perry: true
    target-bitcode: ../../../../HAL-Collection/STM/STM32F103/build/stm32f1xx_hal_pwr.bc
    target-struct: PWR_TypeDef
    constraint_file: perry-stm32f1-pwr.json
  -
    target: FLASH
    use-perry: true
    target-bitcode: ../../../../HAL-Collection/STM/STM32F103/build/stm32f1xx_hal_flash_ex.bc
    target-struct: FLASH_TypeDef
    constraint_file: perry-stm32f1-flash.json
  -
    target: RCC
    use-perry: true
    target-bitcode: ../../../../HAL-Collection/STM/STM32F103/build/stm32f1xx_hal_rcc.bc
    target-struct: RCC_TypeDef
    constraint_file: perry-stm32f1-rcc.json
  -
    target: TIM2
    use-perry: true
    target-bitcode: ../../../../HAL-Collection/STM/STM32F103/build/stm32f1xx_hal_tim.bc
    target-struct: TIM_TypeDef
    constraint_file: perry-stm32f1-tim2.json
  -
    target: TIM1
    use-perry: true
    target-bitcode: ../../../../HAL-Collection/STM/STM32F103/build/stm32f1xx_hal_tim.bc
    target-struct: TIM_TypeDef
    constraint_file: perry-stm32f1-tim1.json
  -
    target: AFIO
  -
    target: EXTI
    use-perry: true
    target-bitcode: ../../../../HAL-Collection/STM/STM32F103/build/stm32f1xx_hal_exti.bc
    target-struct: EXTI_TypeDef
    constraint_file: perry-stm32f1-exti.json
  -
    target: USART1
    kind: USART
    use-perry: true
    target-bitcode: ../../../../HAL-Collection/STM/STM32F103/build/stm32f1xx_hal_uart.bc
    target-struct: USART_TypeDef
    constraint_file: perry-stm32f1-usart.json
  -
    target: GPIOA
  -
    target: SPI1
    kind: SPI
    use-perry: true
    target-bitcode: ../../../../HAL-Collection/STM/STM32F103/build/stm32f1xx_hal_spi.bc
    target-struct: SPI_TypeDef
    constraint_file: perry-stm32f1-spi.json
  -
    target: I2C1
    kind: I2C
    use-perry: true
    target-bitcode: ../../../../HAL-Collection/STM/STM32F103/build/stm32f1xx_hal_i2c.bc
    target-struct: I2C_TypeDef
    constraint_file: perry-stm32f1-i2c.json
  -
    target: ADC1
    kind: ADC
    use-perry: true
    target-bitcode: ../../../../HAL-Collection/STM/STM32F103/build/stm32f1xx_hal_adc.bc
    target-struct: ADC_TypeDef
    constraint_file: perry-stm32f1-adc.json
  -
    target: IWDG

board_config:
  cpu: cortex-m3
  machine_name: stm32f103
  clk_freq: 72000000
  num_irq: 256
  init_vtor: 0x08000000
  bitband: true

  memory:
    -
      name: main-flash
      base: 0x08000000
      size: 0x00080000
      type: flash
    -
      name: option-bytes
      base: 0x1ffff000
      size: 0x00000810
      type: rom
    -
      name: sram
      base: 0x20000000
      size: 0x00014000
      type: ram

  peripheral:
    -
      kind: DMA
      instance: [DMA1, DMA2]
    -
      kind: TIM2
      instance: [TIM2, TIM3, TIM4, TIM5]
    -
      kind: TIM1
      instance: [TIM1]
    -
      kind: ADC
      instance: [ADC1, ADC2]
    -
      kind: USART
      instance: [USART1, USART2]
    -
      kind: PWR
    -
      kind: RCC
    -
      kind: FLASH
    -
      kind: AFIO
    -
      kind: EXTI
    -
      kind: GPIOA
      instance: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG]
    -
      kind: SPI
      instance: [SPI1, SPI2, SPI3]
    -
      kind: I2C
      instance: [I2C1, I2C2]
    -
      kind: IWDG